<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="CSS/Board.css">
  <link rel="stylesheet" href="CSS/menu.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/svg.js/3.2.0/svg.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
  <script src="JS/Board/main.js"></script>
  <script src="JS/Board/fundamental.js"></script>
  <script src="JS/Board/tool.js"></script>
  <script src="JS/Board/update.js"></script>
  <script src="JS/Board/debug.js"></script>
  <script src="JS/Board/settings-menus.js"></script>
</head>



<body style="height: 1000px;">

  <div id="debugPanel" style="display: none;">
    <h2>Debugging Panel</h2>
    <div id="debugContent">
    </div>
  </div>
  <div id="menu" class="canvas_toolbar">
    <button onclick="setTool('draw')" class="button" id="draw_button">
      draw
    </button>
    <button onclick="setTool('line')" class="button" id="line_button">
      line
    </button>
    <button onclick="setTool('text')" class="button">
      text
    </button>
    <button onclick="setTool('selection')" id="selection_button" class="button">
      selection
    </button>





    <div id="settings_line" class="settings_menu" style="height: 25vh; width: 26vh; display: none;">
      <div class="settings_inner">
        <p style="margin: 0px;">temporary:</p>
        <button class="checkmark" onclick=""></button>
      </div>
      <div class="settings_inner">
        <p style="margin: 0px;">Type:</p>
        <button class="settings_button"></button>
        <button class="settings_button"></button>
        <button class="settings_button"></button>
      </div>
      <div class="settings_inner">
        <p style="margin: 0px;">Arrow:</p>
        <button class="settings_button"></button>
        <button class="settings_button"></button>
        <button class="settings_button"></button>
      </div>
      <div class="settings_inner">
        <p style="margin: 0px;">Width:</p>
        <input id="line_widthvalue" style="width: 4vh; border: 0.25vh solid #58585859;" value="1">
        <button id="line_width_increase"  onclick="adjust_width(1,'line')" class="settings_button">increase</button>
        <button id="decrease_width_increase" onclick="adjust_width(-1,'line')" class="settings_button">decrease</button>
      </div>
    </div>

    <div id="settings_draw" class="settings_menu" style="height: 25vh; width: 26vh; display: none;">
      <div class="settings_inner">
        <p style="margin: 0px;">Smoothing:</p>
        <button class="checkmark" id="smoothing_toggle" onclick="toggle_smoothing()"></button>
      </div>
      <div class="settings_inner">
        <p style="margin: 0px;">Width:</p>
        <input id="draw_widthvalue" style="width: 4vh; border: 0.25vh solid #58585859;" value="1">
        <button id="draw_width_increase"  onclick="adjust_width(1,'draw')" class="settings_button">increase</button>
        <button id="decrease_width_increase" onclick="adjust_width(-1,'draw')" class="settings_button">decrease</button>
      </div>
    </div>

    <div id="settings_selection" class="settings_menu" style="height: 25vh; width: 26vh; display: none;">
      <div class="settings_inner">
        <p style="margin: 0px;">allow:</p>
        <button onclick="toggle_selection('text');" class="button selection_toggle stbutton" id="text_selection"style="display: none;">
          text selection
        </button>
        <button onclick="toggle_selection('canvas');" class="button selection_toggle stbutton" id="canvas_selection" style="display: none;">
          canvas selection
        </button>
      </div>
    </div>
    
    <div class="edit_area">

      <button onclick="selection_settings()" class="button selection_settings stbutton" style="display: none;" >
        selection settings
       </button>

      <button onclick="window.parent.showNotification('temporarily bugged, make sure to click the actual color', 2);" class="stbutton button all" id="color_settings" style="display: none;">
        <input onclick="hide_all_menus()" id="colorvalue" type="color" value="#1dbbce"
          style="border: 0; background: transparent">
      </button>
      <button onclick="line_settings()" class="button line_settings stbutton line" style="display: none;" >
       line settings
      </button>
      <button onclick="draw_settings()" class="button draw_settings stbutton draw" style="display: none;">
        draw settings
      </button>
      
      <button onclick="delete_selected()" id="delete_button" class="button delete_button stbutton delete" style="display: none;">
        delete
      </button>
    </div>
  </div>


  <div id="drawing" style=" height: 100%; width: 100%;"></div>




  <script>
    var activeTool = "none"
    var draw = SVG().addTo('#drawing').size('100%', '100%');
    draw.node.setAttribute('id', 'svg_canvas');
    var state = null;
    var selection_state = null;
    var smooth_free_draw = false;


    let body = document.getElementsByTagName("body")[0];
    body.style.overflow = "hidden";
    window.onload = function () {
      document.body.style.height = 10000000 + "px";
    };

    function enable_freedraw_smoothening() {
      smooth_free_draw = !smooth_free_draw;
    }
  </script>



</body>

</html>